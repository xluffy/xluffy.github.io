<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        Up firmware Padavan cho MI4 ::
        /dev/xluffy
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="Sau m·ªôt th·ªùi gian x√†i c√°i modem k√®m wifi l·ªüm l·ªüm c·ªßa nh√† m·∫°ng VNPT v√† ch·ªãu kh√¥ng n·ªïi sau v√†i m√πa ƒë·ª©t c√°p."
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://xluffy.github.io/post/up-firmware-padavan-mi4/" />





<link rel="stylesheet" href="https://xluffy.github.io/assets/style.css" />

<link rel="stylesheet" href="https://xluffy.github.io/style.css" />


<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="https://xluffy.github.io/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="https://xluffy.github.io/img/favicon.png" />


<link href="https://xluffy.github.io/assets/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://xluffy.github.io/assets/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://xluffy.github.io/assets/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://xluffy.github.io/assets/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://xluffy.github.io/assets/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://xluffy.github.io/assets/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Up firmware Padavan cho MI4"/>
<meta name="twitter:description" content="Sau m·ªôt th·ªùi gian x√†i c√°i modem k√®m wifi l·ªüm l·ªüm c·ªßa nh√† m·∫°ng VNPT v√† ch·ªãu kh√¥ng n·ªïi sau v√†i m√πa ƒë·ª©t c√°p."/>



<meta property="og:title" content="Up firmware Padavan cho MI4" />
<meta property="og:description" content="Sau m·ªôt th·ªùi gian x√†i c√°i modem k√®m wifi l·ªüm l·ªüm c·ªßa nh√† m·∫°ng VNPT v√† ch·ªãu kh√¥ng n·ªïi sau v√†i m√πa ƒë·ª©t c√°p." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://xluffy.github.io/post/up-firmware-padavan-mi4/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-11-11T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-11-11T00:00:00+00:00" /><meta property="og:site_name" content="/dev/xluffy" />







  </head>
  <body class="">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >/dev/xluffy ft üçÑ</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">about</a></li>
        
      
        
          <li><a href="/tags">tags</a></li>
        
      
        
          <li><a href="https://github.com/xluffy/til/issues">til</a></li>
        
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">about</a></li>
      
    
      
        <li><a href="/tags">tags</a></li>
      
    
      
        <li><a href="https://github.com/xluffy/til/issues">til</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">Up firmware Padavan cho MI4</h1>
    <div class="post-meta">
      
        <span class="post-date">
          2021-11-11
        </span>

        
          
        
      

      


      
    </div>

    
      <span class="post-tags">
        
          <a href="https://xluffy.github.io/tags/mi4/">#mi4</a>&nbsp;
        
          <a href="https://xluffy.github.io/tags/pandavan/">#pandavan</a>&nbsp;
        
      </span>
    

    

    <div class="post-content">
      
      <p>Sau m·ªôt th·ªùi gian x√†i c√°i modem k√®m wifi l·ªüm l·ªüm c·ªßa nh√† m·∫°ng VNPT v√† ch·ªãu kh√¥ng n·ªïi sau v√†i m√πa ƒë·ª©t c√°p. Quy·∫øt ƒë·ªãnh s·∫Ω ki·∫øm m·ªôt c√°i router wifi thay th·∫ø. Y√™u c·∫ßu v·ªõi thi·∫øt b·ªã m·ªõi l√†:</p>
<ul>
<li>R·∫ª, t·∫ßm v√†i trƒÉm ng√¨n v√¨ nh√† c≈©ng ch·ªâ c√≥ h∆°n 60m2 n√™n kh√¥ng c√≥ nhu c·∫ßu d√πng Mesh.</li>
<li>Ngh·ªãch ƒë∆∞·ª£c, c√≥ th·ªÉ c√†i firmware (v√≠ d·ª• OpenWrt) ho·∫∑c tu·ª≥ ch·ªânh c√°c ch·ª©c nƒÉng nh∆∞ ch·∫∑n qu·∫£ng c√°o (AdGuard, Pi-hole) ho·∫∑c c√°c ch·ª©c nƒÉng VPN.</li>
</ul>
<h2 id="1-l·ª±a-ch·ªçn-thi·∫øt-b·ªã">1. L·ª±a ch·ªçn thi·∫øt b·ªã</h2>
<p>Sau m·ªôt h·ªìi l∆∞·ª£n l·ªù VoZ th·∫•y m·∫•y em Mi Router c√≥ v·∫ª ngon v·ªÅ c·∫•u h√¨nh d√π l√† h√†ng n·ªôi ƒë·ªãa Trung Qu·ªëc, n√™n quy·∫øt ƒë·ªãnh order m·ªôt em <a href="https://www.mi.com/miwifi4/specs/">MI4</a> tr√™n Shopee v·ªÅ ngh·ªãch, gi√° ch·ªâ t·∫ßm 350k, anh em t·ª± search nh√©. C·∫•u h√¨nh nh∆∞ sau:</p>
<ul>
<li><strong>CPU</strong>: MT7621A MIPS Dual core 880MHz</li>
<li><strong>ROM</strong>: 128MB SLC Nand Flash</li>
<li><strong>RAM</strong>: 128MB DDR3-1200</li>
<li><strong>2.4G Wifi</strong>: 2 X 2 (IEEE 802.11N protocol supported, up to 300Mbps) (5dBi)</li>
<li><strong>5G Wifi</strong>: 2 X 2 (IEEE 802.11AC protocol supported, up to 867Mbps) (6dBi)</li>
<li><strong>Network Protocols</strong>: IEEE 802.11a/b/g/n/acÔºåIEEE 802.3/3u/3ab</li>
<li><strong>LAN</strong>: 2 port x 10/100/1000M</li>
<li><strong>WAN</strong>:  1 x 10/1000M</li>
<li><strong>OS</strong>: <a href="https://bigota.miwifi.com/xiaoqiang/rom/r4/miwifi_r4_firmware_8ed47_2.26.175.bin">MiWifi Rom ti·∫øng Trung based OpenWRT</a></li>
</ul>
<p>B·∫£n tui mua tr√™n Shopee l√† ƒë·ªì c≈©, ƒë√£ s·ª≠ d·ª•ng r·ªìi v√† ƒë∆∞·ª£c b·∫°n b√°n cung c·∫•p 2 phi√™n b·∫£n:</p>
<ul>
<li>Phi√™n b·∫£n ROM g·ªëc, ti·∫øng Trung v√† x√†i <a href="https://deviwiki.com/wiki/Xiaomi_MiWiFi_4">U-Boot bootloader</a></li>
<li>Phi√™n b·∫£n Padavan ti·∫øng Vi·ªát v√† tui d·ª± l√† b·∫°n √≠ x√†i BREED bootloader</li>
</ul>
<p>Tui ƒë√£ mua b·∫£n Padavan Ti·∫øng Vi·ªát v√¨ qu√° l∆∞·ªùi t·ª± m√≤ ƒë·ªÉ c√†i firmware, nh∆∞ng load v√¥ giao di·ªán qu·∫£n tr·ªã th·∫•y b·∫°n √≠ ƒë·ªÉ l·∫°i copyright n√™n c≈©ng h∆°i nghi ng·∫°i, m·ªôt ph·∫ßn li√™n quan ƒë·∫øn bootloader (s·∫Ω n√≥i sau) n√™n quy·∫øt ƒë·ªãnh th·ª≠ build l·∫°i firmware s·∫µn nghi√™n c·ª©u lu√¥n.</p>
<h2 id="2-firmware">2. Firmware</h2>
<p>Tr√™n VoZ r·∫•t nhi·ªÅu anh em x√†i Padavan, l∆∞·ªõt s∆° s∆° th·∫•y firmware n√†y c√≥ v·∫ª ·ªïn v√† c√≥ h·ªó tr·ª£ c·∫£ ti·∫øng Vi·ªát n√™n quy·∫øt ƒë·ªãnh c≈©ng s·∫Ω x√†i ti·∫øp firmware n√†y lu√¥n. Padavan l√† firmware m·ªü ƒë∆∞·ª£c &ldquo;x√†o&rdquo; b·ªüi <a href="https://github.com/andy-padavan">Andy Padavan</a> m·ªôt l·∫≠p tr√¨nh vi√™n ng∆∞·ªùi Nga. Repo g·ªëc ƒë·∫∑t t·∫°i <a href="https://bitbucket.org/padavan/rt-n56u/src/master/">bitbucket</a> v√† mirror <a href="https://github.com/andy-padavan/rt-n56u">github</a>, last commit l√† v√†o 05/11/2018. ƒê√¢y xem nh∆∞ l√† Padavan g·ªëc v√¨ sau n√†y s·∫Ω c√≥ r·∫•t nhi·ªÅu c√°c b·∫£n ch·∫ø l·∫°i d·ª±a tr√™n b·∫£n g·ªëc n√†y.</p>
<p>V√≠ d·ª• m·ªôt phi√™n b·∫£n Trung do m·∫•y b·∫°n Trung x√†o l·∫°i <a href="https://github.com/hanwckf/rt-n56u">https://github.com/hanwckf/rt-n56u</a>, phi√™n b·∫£n n√†y c√≥ m·ªôt s·ªë kh√°c bi·ªát so v·ªõi b·∫£n g·ªëc nh∆∞ sau:</p>
<ul>
<li><a href="https://github.com/hanwckf/rt-n56u#%E5%9B%BA%E4%BB%B6%E7%89%B9%E7%82%B9">H·ªó tr·ª£ nhi·ªÅu thi·∫øt b·ªã h∆°n</a></li>
<li>X√†i AriaNg thay cho aira2</li>
<li>X√†i m·ªôt ph·∫ßn <a href="https://gitlab.com/padavan-ng/padavan-ng">padavan-ng</a></li>
<li>Tu·ª≥ ch·ªçn s·∫µn m·ªôt s·ªë g√≥i ph·∫ßn m·ªÅm (curl, htop, nano, samba3.6, sock, vpn v√† c√°c g√≥i h·ªó tr·ª£ g·∫Øn card 3/4G)</li>
<li>Ti·∫øng Trung t·ª´ b·ªô t·ª´ ƒëi·ªÉn <a href="https://github.com/gorden5566/padavan">gorden5566</a></li>
</ul>
<p>Do b·∫£n ti·∫øng Trung n√†y c√≥ h·ªó tr·ª£ <a href="https://github.com/hanwckf/rt-n56u/pull/671">Mi-4</a> n√™n tui c≈©ng s·∫Ω x√†i b·∫£n n√†y lu√¥n, nh∆∞ng do ƒë√¢y l√† b·∫£n ti·∫øng Trung n√™n c·∫ßn load t·ª´ ƒëi·ªÉn ti·∫øng Vi·ªát ƒë·ªÉ x√†i, may m·∫Øn thay ƒë√£ c√≥ m·ªôt b·∫°n l√†m s·∫µn b·ªô <a href="https://github.com/daivietpda/PDVN-LANG">t·ª´ ƒëi·ªÉn ti·∫øng Vi·ªát cho Padavan</a>. Vi·ªác b√¢y gi·ªù l√† t√¨m hi·ªÉu c√°ch build firmware, tu·ª≥ ch·ªânh c√°c package ƒë·ªÉ x√†i th·ª≠.</p>
<h2 id="3-chu·∫©n-b·ªã-m√¥i-tr∆∞·ªùng-build">3. Chu·∫©n b·ªã m√¥i tr∆∞·ªùng build</h2>
<p>D·ª±a ch·ªß y·∫øu v√†o <a href="https://github.com/hanwckf/rt-n56u/blob/master/README.md">README c·ªßa b·∫£n ti·∫øng Trung</a> c√≥ tham kh·∫£o <a href="https://bitbucket.org/padavan/rt-n56u/wiki/EN/HowToMakeFirmware">WIKI Pandava g·ªëc</a>. Tui s·∫Ω d√πng Ubuntu 16.04 LTS i386, tr√°nh nh·∫ßm x86_64 (ho·∫∑c amd64) nh√©. ƒê·ªÉ ƒë·ª° m·∫•t c√¥ng c√†i ƒë·∫∑t th√¨ s·ª≠ d·ª•ng lu√¥n Vagrant cho ti·ªán, <code>Vagrantfile</code> nh∆∞ sau (c·∫•p RAM/CPU nhi·ªÅu ƒë·ªÉ build cho l·∫π, ƒë·ª° m·∫•t th·ªùi gian ch·ªù):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#75715e"># -*- mode: ruby -*-</span>
<span style="color:#75715e"># vi: set ft=ruby :</span>

<span style="color:#66d9ef">Vagrant</span><span style="color:#f92672">.</span>configure(<span style="color:#e6db74">&#39;2&#39;</span>) <span style="color:#66d9ef">do</span> <span style="color:#f92672">|</span>config<span style="color:#f92672">|</span>
  config<span style="color:#f92672">.</span>vm<span style="color:#f92672">.</span>box <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;ubuntu/xenial32&#39;</span>
  config<span style="color:#f92672">.</span>vm<span style="color:#f92672">.</span>box_url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;ubuntu/xenial32&#39;</span>
  config<span style="color:#f92672">.</span>vm<span style="color:#f92672">.</span>hostname <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;padavan-box&#39;</span>
  config<span style="color:#f92672">.</span>vm<span style="color:#f92672">.</span>provider <span style="color:#e6db74">&#39;virtualbox&#39;</span> <span style="color:#66d9ef">do</span> <span style="color:#f92672">|</span>vb<span style="color:#f92672">|</span>
    vb<span style="color:#f92672">.</span>gui <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
    vb<span style="color:#f92672">.</span>memory <span style="color:#f92672">=</span> <span style="color:#ae81ff">2048</span>
    vb<span style="color:#f92672">.</span>cpus <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>
  <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>
</code></pre></div><p>Sau ƒë√≥ t·∫°o v√† c·∫•u h√¨nh machine d·ª±a tr√™n <code>Vagrantfile</code> ph√≠a tr√™n</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">&gt; vagrant up

Bringing machine <span style="color:#e6db74">&#39;default&#39;</span> up with <span style="color:#e6db74">&#39;virtualbox&#39;</span> provider...
<span style="color:#f92672">==</span>&gt; default: Importing base box <span style="color:#e6db74">&#39;ubuntu/xenial32&#39;</span>...
<span style="color:#f92672">==</span>&gt; default: Matching MAC address <span style="color:#66d9ef">for</span> NAT networking...
<span style="color:#f92672">==</span>&gt; default: Checking <span style="color:#66d9ef">if</span> box <span style="color:#e6db74">&#39;ubuntu/xenial32&#39;</span> version <span style="color:#e6db74">&#39;20211001.0.0&#39;</span> is up to date...
<span style="color:#f92672">==</span>&gt; default: Setting the name of the VM: vargrant_default_1636614238976_86823
<span style="color:#f92672">==</span>&gt; default: Clearing any previously set network interfaces...
<span style="color:#f92672">==</span>&gt; default: Preparing network interfaces based on configuration...
    default: Adapter 1: nat
<span style="color:#f92672">==</span>&gt; default: Forwarding ports...
    default: <span style="color:#ae81ff">22</span> <span style="color:#f92672">(</span>guest<span style="color:#f92672">)</span> <span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">2222</span> <span style="color:#f92672">(</span>host<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>adapter 1<span style="color:#f92672">)</span>
<span style="color:#f92672">==</span>&gt; default: Running <span style="color:#e6db74">&#39;pre-boot&#39;</span> VM customizations...
<span style="color:#f92672">==</span>&gt; default: Booting VM...
<span style="color:#f92672">==</span>&gt; default: Waiting <span style="color:#66d9ef">for</span> machine to boot. This may take a few minutes...
    default: SSH address: 127.0.0.1:2222
    default: SSH username: vagrant
    default: SSH auth method: private key
    default: Warning: Connection reset. Retrying...
    default: Warning: Remote connection disconnect. Retrying...
    default:
    default: Vagrant insecure key detected. Vagrant will automatically replace
    default: this with a newly generated keypair <span style="color:#66d9ef">for</span> better security.
    default:
    default: Inserting generated public key within guest...
    default: Removing insecure key from the guest <span style="color:#66d9ef">if</span> it<span style="color:#960050;background-color:#1e0010">&#39;</span>s present...
    default: Key inserted! Disconnecting and reconnecting using new SSH key...
<span style="color:#f92672">==</span>&gt; default: Machine booted and ready!

&gt; vagrant status
Current machine states:

default	running <span style="color:#f92672">(</span>virtualbox<span style="color:#f92672">)</span>
</code></pre></div><p>SSH v√†o m√°y ·∫£o v√† ki·ªÉm tra m·ªôt s·ªë th√¥ng tin:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">&gt; vagrant ssh

&gt; cat /etc/issue
Ubuntu 16.04.7 LTS <span style="color:#ae81ff">\n</span> <span style="color:#ae81ff">\l</span>

&gt; uname -a
Linux padavan-box 4.4.0-210-generic <span style="color:#75715e">#242-Ubuntu SMP Fri Apr 16 09:57:00 UTC 2021 i686 i686 i686 GNU/Linux</span>
</code></pre></div><p>C√†i ƒë·∫∑t c√°c g√≥i c·∫ßn thi·∫øt ƒë·ªÉ bi√™n d·ªãch:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">&gt; apt update
&gt; apt install automake autopoint bison build-essential cmake cpio curl fakeroot flex gawk gettext git gperf <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>			  help2man kmod libc-dev-bin libgmp3-dev libltdl-dev libmpc-dev libmpfr-dev libncurses5-dev libtool-bin <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>		      nano pkg-config python3-docutils texinfo unzip wget zlib1g-dev --no-install-recommends -y
</code></pre></div><p>T·∫£i m√£ ngu·ªìn:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">&gt; mkdir -pv /build
&gt; cd /build
&gt; git clone https://github.com/hanwckf/rt-n56u.git
</code></pre></div><p>V√† do c·∫ßn giao di·ªán ti·∫øng Vi·ªát, n√™n nh·ªõ t·∫£i b·ªô t·ª´ ƒëi·ªÉn ti·∫øng Vi·ªát:</p>
<pre tabindex="0"><code>&gt; cd rt-n56u
&gt; ls -l trunk/user/www/dict/*.dict
&gt; wget -O trunk/user/www/dict/VN.dict https://raw.githubusercontent.com/daivietpda/PDVN-LANG/master/VN.dict
</code></pre><p>Xong xu√¥i c√°c b∆∞·ªõc tr√™n l√† ƒë√£ chu·∫©n b·ªã ƒë·ªß, b√¢y gi·ªù tui s·∫Ω build <code>toolchain</code> (cross-compiler and tools for building) tr∆∞·ªõc, ƒë·ªÉ c√≥ c√°i t√≠ build firmware. Trong b·∫£n Padavan c·ªßa th√≠m <code>hanwckf</code> c√≥ s·∫µn phi√™n b·∫£n pre-build c·ªßa toolchain, fen n√†o th√≠ch th√¨ t·∫£i v·ªÅ ho·∫∑c ch·∫°y script <code>dl_toolchain.sh</code> s·∫Ω t·ª± t·∫£i v·ªÅ nh√©, link ·ªü ƒë√¢y <a href="https://github.com/hanwckf/padavan-toolchain/releases/download/v1.1/mipsel-linux-uclibc.tar.xz">https://github.com/hanwckf/padavan-toolchain/releases/download/v1.1/mipsel-linux-uclibc.tar.xz</a>. C√≤n tui l·ª° build r·ªìi th√¨ build h·∫øt lu√¥n, ng·∫°i ng·∫ßn chi n·ªØa.</p>
<pre tabindex="0"><code>&gt; cd /build/rt-n56u/toolchain-mipsel
&gt; ulimit -n 4096
&gt; ./clean_toolchain
&gt; ./build_toolchain

...
[INFO ]  Finishing installation (may take a few seconds)...
[37:34] / ====================All IS DONE!========================
</code></pre><h2 id="3-build-firmware">3. Build firmware</h2>
<p>Tool ti·∫øc xong c·∫£ r·ªìi, b√¢y gi·ªù s·∫Ω c·∫ßn c·∫≠p nh·∫≠t template config t∆∞∆°ng ·ª©ng v·ªõi model router c·∫ßn build v√† build firmware:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">&gt; cd /build/rt-n56u/trunk
&gt; grep -v <span style="color:#e6db74">&#39;^#&#39;</span> configs/templates/MI-4.config  | grep -v <span style="color:#e6db74">&#34;^</span>$<span style="color:#e6db74">&#34;</span> | grep -v <span style="color:#e6db74">&#34;=n&#34;</span>
CONFIG_VENDOR<span style="color:#f92672">=</span>Ralink
CONFIG_PRODUCT<span style="color:#f92672">=</span>MT7621
CONFIG_FIRMWARE_PRODUCT_ID<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;MI-4&#34;</span>
CONFIG_LINUXDIR<span style="color:#f92672">=</span>linux-3.4.x
CONFIG_FIRMWARE_WIFI2_DRIVER<span style="color:#f92672">=</span>4.1
CONFIG_FIRMWARE_WIFI5_DRIVER<span style="color:#f92672">=</span>3.0
CONFIG_FIRMWARE_ENABLE_IPV6<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_IPSET<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_LANG_VN<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_TCPDUMP<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_EAP_PEAP<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_SFTP<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_OPENSSH<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_OPENSSL_EC<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_OPENSSL_EXE<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_CURL<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_MINIEAP<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_HTOP<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_NANO<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_IPERF3<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_MTR<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_SOCAT<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_SRELAY<span style="color:#f92672">=</span>y
CONFIG_FIRMWARE_INCLUDE_WIREGUARD<span style="color:#f92672">=</span>y
</code></pre></div><p>B·ªè h·∫øt c√°c t√≠nh nƒÉng kh√¥ng c·∫ßn thi·∫øt ho·∫∑c ch∆∞a c√≥ nh∆∞ c·∫ßu s·ª≠ d·ª•ng nh∆∞:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-diff" data-lang="diff"> ### using samba3.6 instead of samba3
<span style="color:#f92672">-CONFIG_FIRMWARE_INCLUDE_SMBD36=y
</span><span style="color:#f92672"></span><span style="color:#a6e22e">+CONFIG_FIRMWARE_INCLUDE_SMBD36=n
</span><span style="color:#a6e22e"></span>
 ### Include WINS server only. ~0.4MB
 CONFIG_FIRMWARE_INCLUDE_WINS=n
<span style="color:#75715e">@@ -174,7 +175,7 @@ CONFIG_FIRMWARE_INCLUDE_DROPBEAR_FAST_CODE=n
</span><span style="color:#75715e"></span> CONFIG_FIRMWARE_INCLUDE_OPENSSH=y

 ### Include OpenVPN. IPv6 required. openssl ~1.2MB, openvpn ~0.4MB
<span style="color:#f92672">-CONFIG_FIRMWARE_INCLUDE_OPENVPN=y
</span><span style="color:#f92672"></span><span style="color:#a6e22e">+CONFIG_FIRMWARE_INCLUDE_OPENVPN=n
</span><span style="color:#a6e22e"></span>
 ### Include StrongSwan. XFRM modules ~0.2MB, strongswan ~0.7MB
 CONFIG_FIRMWARE_INCLUDE_SSWAN=n
<span style="color:#75715e">@@ -186,7 +187,7 @@ CONFIG_FIRMWARE_INCLUDE_OPENSSL_EC=y
</span><span style="color:#75715e"></span> CONFIG_FIRMWARE_INCLUDE_OPENSSL_EXE=y

 ### Include xUPNPd IPTV mediaserver. ~0.3MB
<span style="color:#f92672">-CONFIG_FIRMWARE_INCLUDE_XUPNPD=y
</span><span style="color:#f92672"></span><span style="color:#a6e22e">+CONFIG_FIRMWARE_INCLUDE_XUPNPD=n
</span><span style="color:#a6e22e"></span>
 ### Include Minidlna UPnP mediaserver. ~1.6MB
 CONFIG_FIRMWARE_INCLUDE_MINIDLNA=n
<span style="color:#75715e">@@ -195,7 +196,7 @@ CONFIG_FIRMWARE_INCLUDE_MINIDLNA=n
</span><span style="color:#75715e"></span> CONFIG_FIRMWARE_INCLUDE_FIREFLY=n

 ### Include ffmpeg 0.11.x instead of 0.6.x for Minidlna and Firefly. ~0.1MB
<span style="color:#f92672">-CONFIG_FIRMWARE_INCLUDE_FFMPEG_NEW=y
</span><span style="color:#f92672"></span><span style="color:#a6e22e">+CONFIG_FIRMWARE_INCLUDE_FFMPEG_NEW=n
</span><span style="color:#a6e22e"></span>
 ### Include Transmission torrent. openssl ~1.2MB, transmission ~1.5MB
 CONFIG_FIRMWARE_INCLUDE_TRANSMISSION=n
<span style="color:#75715e">@@ -215,13 +216,13 @@ CONFIG_FIRMWARE_INCLUDE_SCUTCLIENT=n
</span><span style="color:#75715e"></span>
 CONFIG_FIRMWARE_INCLUDE_GDUT_DRCOM=n

<span style="color:#f92672">-CONFIG_FIRMWARE_INCLUDE_DOGCOM=y
</span><span style="color:#f92672"></span><span style="color:#a6e22e">+CONFIG_FIRMWARE_INCLUDE_DOGCOM=n
</span><span style="color:#a6e22e"></span>
 CONFIG_FIRMWARE_INCLUDE_MINIEAP=y

<span style="color:#f92672">-CONFIG_FIRMWARE_INCLUDE_NJIT_CLIENT=y
</span><span style="color:#f92672"></span><span style="color:#a6e22e">+CONFIG_FIRMWARE_INCLUDE_NJIT_CLIENT=n
</span><span style="color:#a6e22e"></span>
<span style="color:#f92672">-CONFIG_FIRMWARE_INCLUDE_NAPT66=y
</span><span style="color:#f92672"></span><span style="color:#a6e22e">+CONFIG_FIRMWARE_INCLUDE_NAPT66=n
</span><span style="color:#a6e22e"></span>
<span style="color:#f92672">-CONFIG_FIRMWARE_INCLUDE_VLMCSD=y
</span><span style="color:#f92672"></span><span style="color:#a6e22e">+CONFIG_FIRMWARE_INCLUDE_VLMCSD=n
</span><span style="color:#a6e22e"></span>
<span style="color:#f92672">-CONFIG_FIRMWARE_INCLUDE_TTYD=y
</span><span style="color:#f92672"></span><span style="color:#a6e22e">+CONFIG_FIRMWARE_INCLUDE_TTYD=n
</span><span style="color:#a6e22e"></span>
<span style="color:#f92672">-CONFIG_FIRMWARE_INCLUDE_LRZSZ=y
</span><span style="color:#f92672"></span><span style="color:#a6e22e">+CONFIG_FIRMWARE_INCLUDE_LRZSZ=n
</span><span style="color:#a6e22e"></span>
 CONFIG_FIRMWARE_INCLUDE_HTOP=y

<span style="color:#75715e">@@ -259,4 +260,4 @@ CONFIG_FIRMWARE_INCLUDE_FRPS=n
</span><span style="color:#75715e"></span>
 CONFIG_FIRMWARE_INCLUDE_TUNSAFE=n

<span style="color:#f92672">-CONFIG_FIRMWARE_INCLUDE_WIREGUARD=n
</span><span style="color:#f92672"></span><span style="color:#a6e22e">+CONFIG_FIRMWARE_INCLUDE_WIREGUARD=y
</span></code></pre></div><p>Fen n√†o th√≠ch s·ª≠a c√°i d√≤ng COPYRIGHT th√¨ s·ª≠a trong file n√†y <a href="https://github.com/hanwckf/rt-n56u/blob/c9c3cec65c619dd8a1f51eee1d305d09d474fff6/trunk/user/www/Makefile#L12">Makefile</a>, sau khi bi√™n d·ªãch, load UI th√¨ ·ªü d∆∞·ªõi footer s·∫Ω th·∫•y d√≤ng ch·ªØ ki·ªÉu ki·ªÉu v·∫ßy nh√©:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">¬© 2011-2021 Padavan <span style="color:#960050;background-color:#1e0010">&amp;</span> N56U project community 
			Compiled by xluffy
</code></pre></div><p>Sau ƒë√≥ b·∫Øt ƒë·∫ßu bi√™n d·ªãch firmware, nh·ªõ <code>$1</code> l√† t√™n c·ªßa model, d√πng ƒë·ªÉ render config build t·ª´ c√°i file config template ph√≠a tr√™n nh√©, n√≥ s·∫Ω ch√©p template ph√≠a tr√™n ra <code>.config</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">&gt; fakeroot ./build_firmware_modify MI-4
</code></pre></div><p>Sau khi bi√™n d·ªãch xong, custom firmware s·∫Ω ƒë∆∞·ª£c ƒë·∫∑t t·∫°i th∆∞ m·ª•c <code>rt-n56u/trunk/images</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">&gt; ls -larht rt-n56u/trunk/images

total 27M
drwxr-xr-x <span style="color:#ae81ff">14</span> root root 4.0K Nov <span style="color:#ae81ff">11</span> 08:38 ..
-rw-r--r--  <span style="color:#ae81ff">1</span> root root 7.0M Nov <span style="color:#ae81ff">11</span> 08:50 ramdisk
-rwxr-xr-x  <span style="color:#ae81ff">1</span> root root 3.6M Nov <span style="color:#ae81ff">11</span> 08:50 zImage
-rw-r--r--  <span style="color:#ae81ff">1</span> root root 8.2M Nov <span style="color:#ae81ff">11</span> 08:50 zImage.lzma
drwxr-xr-x  <span style="color:#ae81ff">2</span> root root 4.0K Nov <span style="color:#ae81ff">11</span> 08:50 .
-rw-r--r--  <span style="color:#ae81ff">1</span> root root 8.2M Nov <span style="color:#ae81ff">11</span> 08:50 MI-4_3.4.3.9-099.trx
</code></pre></div><p>·ªû ƒë√¢y ta s·∫Ω ch·ªâ c·∫ßn file <code>MI-4_3.4.3.9-099.trx</code>, load file n√†y v√†o device v√† x√†i. (ch∆∞a test)</p>
<h2 id="4-m·ªôt-s·ªë-t√≠nh-nƒÉng-n√¢ng-cao">4. M·ªôt s·ªë t√≠nh nƒÉng n√¢ng cao</h2>
<p>·ªû m·ªôt s·ªë phi√™n b·∫£n Padavan kh√°c, &ldquo;c√≥ v·∫ª&rdquo; s·ª≠ d·ª•ng c∆° ch·∫ø ch·∫∑n qu·∫£ng c√°o b·∫±ng c√°ch ph√¢n gi·∫£i c√°c ƒë·ªãa ch·ªâ c·∫ßn ch·∫∑n v·ªÅ c√°c IP nh∆∞ 127.0.0.1 ho·∫∑c 0.0.0.0 b·∫±ng <code>dnsmasq</code> nh∆∞ng ·ªü b·∫£n ti·∫øng Trung, th√≠m <code>hanwckf</code> ƒë√£ thay th·∫ø b·∫±ng <a href="https://github.com/pymumu/smartdns"><code>smartdns</code></a>, d√π d·ª± √°n v·∫´n c√≤n ph√°t tri·ªÉn nh∆∞ng README to√†n ti·∫øng Trung th√¨ ch·ªãu thua kh√¥ng c√°ch n√†o ƒë·ªçc n·ªïi, n√™n t·∫°m th·ªùi kh√¥ng c√≥ t√≠nh nƒÉng ch·∫∑n qu·∫£ng c√°o ·ªü firmware.</p>
<p>Ngo√†i ra, d√π d·ª± √°n n√†y c·∫≠p nh·∫≠t li√™n t·ª•c c√°c commit m·ªõi, nh∆∞ng issue to√†n ti·∫øng Trung c≈©ng kh√° kh√≥ ƒë·ªÉ debug v√† customize firmware.</p>
<p>N·∫øu ng·∫°i ti·∫øng Trung, m·∫•y fen c√≥ th·ªÉ ki·∫øm m·∫•y d·ª± √°n ti·∫øng Anh v√† c√≥ h·ªó tr·ª£ router MI-R3G. Gi·ªØa MI-4 v√† MI-R3G ch·ªâ kh√°c nhau <a href="https://github.com/hanwckf/rt-n56u/issues/669">m·ªôt ch√∫t</a> (credit <a href="https://github.com/minax007">minax007</a>):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">RAM size: <span style="color:#ae81ff">128</span> MB instead of <span style="color:#ae81ff">256</span> MB
GPIO: Mi-Net button
LAN1/LAN2/WAN port assignments
No USB port
</code></pre></div><p>Chi ti·∫øt PR c·∫ßn update c√°c t·ªáp ·ªü <a href="https://github.com/hanwckf/rt-n56u/pull/671">PR #671</a></p>
<h2 id="5-bootloader-v√†-breed-bootloader">5. Bootloader v√† BREED bootloader</h2>
<p>Fen n√†o quen thu·ªôc v·ªõi h·ªá ƒëi·ªÅu th√†nh Linux s·∫Ω quen thu·ªôc v·ªõi 2 bootloader nh∆∞ GRUB ho·∫∑c Syslinux. Hi·ªÉu m·ªôt c√°ch ƒë∆°n gi·∫£n th√¨ bootloader ch·ªãu tr√°ch nhi·ªám n·∫°p kernel v√† kh·ªüi t·∫°o ramdisk tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu qu√° tr√¨nh kh·ªüi ƒë·ªông. ƒê√¢y l√† di·ªÖn gi·∫£i v·ªÅ qu√° <a href="https://wiki.archlinux.org/title/Arch_boot_process">boot process trong ArcLinux</a> t∆∞∆°ng t·ª± v·∫≠y cho c√°c thi·∫øt b·ªã nh√∫ng nh∆∞ router, bootloader c≈©ng c√≥ <a href="https://openwrt.org/docs/techref/bootloader">ch·ª©c nƒÉng kh·ªüi t·∫°o ph·∫ßn c·ª©ng v√† n·∫°p kernel</a>.</p>
<p>Theo tui ƒë∆∞·ª£c bi·∫øt th√¨ c√°c thi·∫øt b·ªã nh√∫ng hay x√†i nh·∫•t l√† U-Boot bootloader, c√° nh√¢n tui c≈©ng ƒë√°nh gi√° cao d·ª± √°n n√†y v√¨:</p>
<ul>
<li>D·ª± √°n ngu·ªìn m·ªü ph√°t h√†nh d∆∞·ªõi gi·∫•y ph√©p GPLv2.</li>
<li>D·ª± √°n v·∫´n ƒë∆∞·ª£c ph√°t tri·ªÉn v√† b·∫£o tr√¨ li√™n t·ª•c, t·∫°i th·ªùi ƒëi·ªÉm vi·∫øt b√†i n√†y tui th·∫•y last commit l√† 15 hours ago. Source code ƒë·∫∑t t·∫°i <a href="https://source.denx.de/u-boot/u-boot">https://source.denx.de/u-boot/u-boot.</a></li>
<li>Website ƒë·∫ßy ƒë·ªß th√¥ng tin v√† chuy√™n nghi·ªáp vl, c·∫£m gi√°c kh√° tin t∆∞·ªüng <a href="http://www.denx.de/wiki/U-Boot/WebHome">http://www.denx.de/wiki/U-Boot/WebHome.</a></li>
</ul>
<p>Tuy nhi√™n c·ªông ƒë·ªìng th√¨ l·∫°i kho√°i x√†i BREED bootloader (Boot and Recovery Environment for Embedded Devices - BREED), bootloader n√†y ƒë∆∞·ª£c th√≠m <a href="https://github.com/hackpascal">hackpascal</a> m·ªôt l·∫≠p tr√¨nh vi√™n Trung Qu·ªëc ph√°t tri·ªÉn v·ªõi m·ªôt s·ªë ƒë·∫∑c ƒëi·ªÉm sau:</p>
<ul>
<li>Kh√¥ng d√≠nh d√°ng g√¨ t·ªõi U-Boot, l√† m·ªôt phi√™n b·∫£n ƒë·ªôc l·∫≠p, ph√°t tri·ªÉn t·ª´ ƒë·∫ßu.</li>
<li>Mi·ªÖn ph√≠ nh∆∞ng <strong>kh√¥ng ph·∫£i m√£ ngu·ªìn m·ªü</strong>, n√™n √¥ng n√†o x√†i th√¨ t·ª± ch·ªãu tr√°ch nhi·ªám v·ªõi b·∫£n th√¢n nh√©.</li>
<li>H·ªó tr·ª£ upgrade realtime firmware qua giao di·ªán web (t·ª©c l√† m·∫•y √¥ng z√¥ WEB, b·∫•m upload firmware ho·∫∑c paste link v√¥ n√≥ t·ª± m·∫ßn, kh√°c v·ªõi c√°c b·∫£n bootloader kh√°c l√† ph·∫£i <code>scp</code> l√™n &hellip;)</li>
</ul>
<p>Th√¥ng tin v·ªÅ bootloader n√†y kh√° h·∫°n ch·∫ø, t√°c gi·∫£ ch·ªâ cung c·∫•p link t·∫£i t·∫°i <a href="https://breed.hackpascal.net/">https://breed.hackpascal.net/</a> v√† gi·ªõi thi·ªáu v·ªÅ BREED ·ªü <a href="https://www.right.com.cn/forum/thread-161906-1-1.html">https://www.right.com.cn/forum/thread-161906-1-1.html</a>, kh·ªï c√°i to√†n ti·∫øng Trung, d·ªãch m√£i c≈©ng kh√¥ng r√µ l√† vi·∫øt c√°i g√¨ =)). Tuy nhi√™n t√°c gi·∫£ v·∫´n c·∫≠p nh·∫≠t bootloader n√†y, l·∫ßn c·∫≠p nh·∫≠t cu·ªëi c√πng l√† v√†o ng√†y 09-10-2020.</p>
<p><em><strong>Xin l∆∞u √Ω l·∫°i m·ªôt l·∫ßn n·ªØa l√† BREED kh√¥ng ph·∫£i ph·∫ßn m·ªÅm m√£ ngu·ªìn m·ªü, n√™n tui kh√¥ng bi·∫øt t√°c gi·∫£ l√†m g√¨ trong m√£ ngu·ªìn, n√™n ch·∫•p nh·∫≠n x√†i l√† ch·∫•p nh·∫≠n r·ªß ro.</strong></em></p>
<p>V√† nh∆∞ ƒë√£ n√≥i ·ªü ƒë·∫ßu th√¨ tui ƒëo√°n c√°i th√≠m b√°n cho tui con MI-4 n√†y c≈©ng x√†i BREED v√¨ n√≥ ti·ªán cho qu√° tr√¨nh n·∫°p Padavan, th√†nh ra c≈©ng h∆°i nghi ng·∫°i. D·ª± √°n U-Boot th√¨ x·ªãn x√≤ th·∫ø kia, t·ªôi g√¨ ko th·ª≠?</p>
<p>C√°ch c√†i BREED th√¨ r·∫•t nhi·ªÅu c√°c b·∫£n <a href="https://4pda.to/forum/index.php?showtopic=975687&amp;st=8240#entry104304281">ti·∫øng Nga</a>, ti·∫øng Vi·ªát tr√™n <a href="https://voz.vn/t/dap-hop-xiaomi-redmi-router-ac2100.48554/#post-1322727">VoZ</a>, di·ªÖn ƒë√†n <a href="https://miui.vn/forum/threads/padavan-custom-firmware-qos-iptv-transmission-for-xioami-router-gen3-gen3g-mini-nano.24161/">miui.vn</a> ƒë·ªß c·∫£, t·ª± t√¨m nh√©.</p>
<h2 id="6-restore-bootloader-stock-v√†-rom-stock">6. Restore bootloader stock v√† ROM stock</h2>
<p>C√°c b∆∞·ªõc nh∆∞ sau:</p>
<ul>
<li>Quay v·ªÅ bootloader stock thay v√¨ BREED bootloader</li>
<li>Quay v·ªÅ ROM stock</li>
</ul>
<p>Ph·∫ßn m·ªÅm c·∫ßn chu·∫©n b·ªã:</p>
<ul>
<li>Bootloader stock, ri√™ng c√°i n√†y kh√¥ng t√¨m ƒë√¢u ra b·∫£n official ƒë∆∞·ª£c, tui ch·ªâ t√¨m ƒë∆∞·ª£c m·ªôt b·∫£n c·ªßa th√≠m <a href="https://voz.vn/u/lethanhtuan2895.1052437/">lethanhtuan2895</a> ·ªü <a href="https://www.dropbox.com/sh/triqs68g4zapi7m/AAAPQJYS7FxglkbsOJpUQH6Fa?dl=0">Bootloader_MIR4.zip</a>, tr√™n <a href="https://4pda.to/forum/index.php?showtopic=905966&amp;st=6740#entry105136079">4pda.to</a> c√≥ nh∆∞ng link hi·ªán t·∫°i ƒë√£ die ho·∫∑c do tui kh√¥ng c√≥ t√†i kho·∫£n ƒëƒÉng nh·∫≠p.</li>
<li><a href="https://bigota.miwifi.com/xiaoqiang/tools/MIWIFIRepairTool.x86.zip">MIWifiRepairToolX86</a> n·∫øu link die th√¨ m·∫•y √¥ng v√¥ ƒë√¢y ki·∫øm h√†ng nh√©. <a href="http://miwifi.com/miwifi_download.html">http://miwifi.com/miwifi_download.html</a>, ch·ªó n√†o c√≥ c√°i bi·ªÉu t∆∞·ª£ng Windows PC th√¨ d√≤ d√≤ v√†o xem link.</li>
<li>Firmware g·ªëc <a href="https://bigota.miwifi.com/xiaoqiang/rom/r4/miwifi_r4_firmware_8ed47_2.26.175.bin">miwifi_r4_firmware_8ed47_2.26.175</a></li>
</ul>
<p>C√°ch b∆∞·ªõc l√†m th√¨ th√≠m <a href="https://voz.vn/t/chia-se-rom-padavan-tieng-viet-cho-xiaomi-router-r3g-v1-co-usb.108869/">lethanhtuan2895</a> c√≥ h∆∞·ªõng d·∫´n r·ªìi nh√©.</p>
<p>May m·∫Øn thay, sau m·ªôt h·ªìi l·∫ßn m√≤ tr√™n <a href="https://forum.openwrt.org/t/xiaomi-mi-wifi-r4-exploration/23322">OpenWrt</a> tui ƒë√£ nh√¨n th·∫•y b·∫£n backup uboot m√† th√≠m thread n√†y ƒë√£ c·∫©n th·∫≠n backup l·∫°i t·∫°i <a href="https://drive.google.com/open?id=1EpBAV_vEpvtyL0vZ-j82saMSX6JvJN5o">link n√†y</a>, xin ph√©p t·∫£i v·ªÅ l∆∞u tr·ªØ ch·ª© t√¨m c·ª±c qu√°:</p>
<p>Sau ƒë√≥ tui ki·ªÉm tra checkup v·ªõi b·∫£n c·ªßa th√≠m <a href="https://voz.vn/u/lethanhtuan2895.1052437/">lethanhtuan2895</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># b·∫£n c·ªßa 0shape tr√™n OpenWrt</span>
&gt; sha256sum Bootloader.bin
89b517f76073e9e093f05d9baf6df003a3d1fa82d46e6421914ef0650ee4583d  Bootloader.bin

<span style="color:#75715e"># b·∫£n c·ªßa lethanhtuan2895</span>
&gt; sha256sum Bootloader/Bootloader_MIR4.bin
89b517f76073e9e093f05d9baf6df003a3d1fa82d46e6421914ef0650ee4583d  Bootloader/Bootloader_MIR4.bin
</code></pre></div><p>Ngon, ƒë·ª° ph·∫£i t·ª± build</p>
<h2 id="7-th√†nh-qu·∫£">7. Th√†nh qu·∫£</h2>
<p>Vi·ªác c√≤n l·∫°i l√†:</p>
<ul>
<li>Load l·∫°i bootloader</li>
<li>Load l·∫°i stock firmware</li>
<li>C√†i Padavan b·∫£n build ·ªü m·ª•c 3</li>
</ul>
<h2 id="8-t·ª±-build-u-boot-bonus">8. T·ª± build U-Boot (bonus)</h2>
<p>√îng n√†o mu·ªën t·ª± build U-Boot th√¨ c√≥ th·ªÉ ngh√≠a 2 repo sau:</p>
<ul>
<li><a href="https://github.com/pepe2k/u-boot_mod">pepe2k/u-boot_mod</a></li>
<li><a href="https://github.com/shibajee/u-boot_mod">shibajee/u-boot_mod</a></li>
</ul>
<p>V·ªõi b·∫£n mod c·ªßa th√≠m <strong>pepe2k</strong>:</p>
<ul>
<li>based tr√™n U-Boot 1.14, s·ª≠a t√πm lum t√† la nh∆∞ng d·ª±a tr√™n <strong>TP-Link</strong> l√† ch·ªß y·∫øu, ngo√†i c√≥ th√™m m√£ c·ªßa ƒë√°m <strong>Link</strong>, <strong>Netgear</strong>, <strong>ZyXEL</strong> v√†<strong>Belkin</strong>, t·∫•t c·∫£ c√°c cty n√†y s·ª≠ d·ª•ng SDK t·ª´ Qualcomm/Atheros.</li>
<li>M·ª•c ti√™u c·ªßa b·∫£n mod n√†y l√† h·ªó tr·ª£ c√°c thi·∫øt b·ªã router c·ªßa TP-Link y·∫øu, v√≠ d·ª• con <strong>TL-WR703N</strong>, nh∆∞ng b√¢y gi·ªù th√¨ h·ªó tr·ª£ t√πm lum t√® le c√°c thi·∫øt b·ªã <a href="https://github.com/pepe2k/u-boot_mod#supported-devices"><strong>Atheros AR934x</strong>, <strong>Qualcomm Atheros QCA953x</strong>, <strong>Qualcomm Atheros QCA955x</strong></a>.</li>
<li>C∆° m√† ƒëen c√°i l√† ch∆∞a h·ªó tr·ª£ <strong>Qualcomm Atheros QCA956x</strong> v√† <strong>MediaTek MT762x</strong>, trong ƒë√≥ chip MT762x l√† c√°i con tui ƒëang x√†i, xu c√† na lu√¥n.</li>
<li>Tuy nhi√™n tui ngh√≠a th·ª≠ th√¨ b·∫£n mod n√†y kh√° x·ªãn, h·ªó tr·ª£ upgrade firmware, U-Boot v√† ART (Atheros Radio Test) image tr·ª±c ti·∫øp th√¥ng qua giao di·ªán web lu√¥n, kh·ªèi c·∫ßn qua m·∫•y c·ªïng serial v√† TFTP. <a href="https://github.com/pepe2k/u-boot_mod#web-server">[1]</a></li>
<li>C√≥ h∆∞·ªõng d·∫´n build c·ª• th·ªÉ tr√™n Linux v√† macOSX <a href="https://github.com/pepe2k/u-boot_mod#web-server">[2]</a></li>
</ul>
<p>C√≤n b·∫£n mod c·ªßa th√≠m <strong>shibajee</strong> c√≥ h·ªó tr·ª£ Mediatek SoC, chip MT7621 v√† tui c√≥ th·∫•y config cho con MI-R3G_SPI, con n√†y c√≥ v·∫ª h∆°i gi·ªëng con MI-R4 c·ªßa tui. T·ª•i M√¨ x√†o n√†y ƒë·∫∑t t√™n l·∫±ng nh·∫±ng v√£i, anh em check specs kƒ© nh√©:</p>
<ul>
<li><a href="https://openwrt.org/toh/xiaomi/mir3g">https://openwrt.org/toh/xiaomi/mir3g</a>, l∆∞u √Ω l√† ko ph·∫£i b·∫£n MI-R3 (ko c√≥ G nh√©) b√† R3G n√≥ c≈©ng c√≥ 2 version l√† V1 v√† V2</li>
<li><a href="https://www.mi.com/miwifi3g/specs/">So s√°nh con R3G v√† R3 kh√¥ng G</a></li>
</ul>
<p>Tui c≈©ng kh√¥ng bi·∫øt l√† c√≥ build ra ch·∫°y ƒë∆∞·ª£c khum, nh∆∞ng t·∫°m th·∫ø ƒë√£ nh√©</p>
<p><img src="https://github.com/xluffy/assets/blob/master/meme-daunam.png?raw=true" alt="c√°o-t·ª´"></p>

    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Read other posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
            
              <span class="button next">
                <a href="https://xluffy.github.io/post/how-to-check-a-ip-is-in-a-blacklist/">
                  <span class="button__text">How to check a IP is in a blacklist</span>
                  <span class="button__icon">‚Üí</span>
                </a>
              </span>
            
          </div>
        </div>
      
    

    
      
        

      
    
  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">h√†ng nh√† tr·ªìng üå¥ theo gi·∫•y ph√©p CC BY-NC 4.0</div>
      
  </div>
</footer>

<script src="https://xluffy.github.io/assets/main.js"></script>
<script src="https://xluffy.github.io/assets/prism.js"></script>


      
    </div>

    
  </body>
</html>
